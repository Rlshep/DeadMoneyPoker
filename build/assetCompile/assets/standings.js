//# sourceMappingURL=standings.js.map
var standingsHeaders;function init(){$({}).queue(loadDropDown).queue(handleDifferentSeason).queue(setChampionshipLink).queue(loadHeaders).queue(load);setDropDownEvent()}function loadDropDown(b){$.ajax({url:location.pathname+"/getSeasonNames",dataType:"json",cache:!1}).done(function(a){for(var c=0;c<a.length;c++){var d='<option value="'+a[c].name+'">'+a[c].name+"</option>";$("#seasons").append(d)}b()})}
function handleDifferentSeason(b){var a=getUrlParameter("seasonName");a&&$("#seasons").val(a);b()}function loadHeaders(b){$.ajax({url:location.pathname+"/loadHeaders?seasonName="+$("#seasons").val(),dataType:"json",cache:!1}).done(function(a){standingsHeaders=a.data;b()})}
function load(b){var a=getColumns(standingsHeaders);$("#standingsTable").DataTable({columns:a,destroy:!0,paging:!1,searching:!1,scrollCollapse:!0,responsive:!0,autoWidth:!0,scrollX:!0,order:[[a.length-1,"desc"]],ajax:{url:location.pathname+"/load?seasonName="+$("#seasons").val()},initComplete:function(){b()}})}
function getColumns(){var b=[],a;if(void 0!=standingsHeaders)for(var c=0;c<standingsHeaders.length;c++)a=0!=c&&c!=standingsHeaders.length-1?Date.parse(standingsHeaders[c]).toString("MMM yyyy"):standingsHeaders[c],b.push({title:a,data:standingsHeaders[c]});return b}function setDropDownEvent(){$("#seasons").off("change");$("#seasons").on("change",function(){window.location.href=location.pathname+"?seasonName="+$("#seasons").val()})}
function setChampionshipLink(b){$.ajax({url:location.pathname+"/getChampionshipResult?seasonName="+$("#seasons").val(),dataType:"json",cache:!1}).done(function(a){(a=a.data)&&a.datePlayed&&$("#championshipLink").html("<a href='/results?datePlayed="+a.datePlayed+"'>&nbsp;Championship Result</a>");b()})};