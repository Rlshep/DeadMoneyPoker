//# sourceMappingURL=results.js.map
var dataTable;function init(){$({}).queue(initDatePicker).queue(handleDateFromParam).queue(load)}function handleDateFromParam(b){var a=getUrlParameter("datePlayed");a&&$("#datePicker").val(a);b()}
function load(){dataTable=$("#resultsTable").DataTable({columns:[{data:"rank"},{data:"playerName"},{data:"points"},{data:"hits"},{data:"roundOut"},{data:"timeOut"},{data:"hitmanName"},{data:"winnings",render:function(b,a,c,d){return"<div class='alignRight'> "+b.toFixed(2)+"</div>"}},{data:"datePlayed",visible:!1}],destroy:!0,paging:!1,searching:!1,scrollCollapse:!0,responsive:!0,autoWidth:!0,ajax:{url:location.pathname+"/load?selectedDate="+$("#datePicker").val()},initComplete:function(){$("#datePicker").val($("#resultsTable").DataTable().row(0).data().datePlayed)}})}
function initDatePicker(b){$.ajax({url:location.pathname+"/loadDateRange",dataType:"json",cache:!1}).done(function(a){$("#datePicker").MonthPicker({ShowIcon:!0,MinDate:new Date(a.lowDate.slice(3,7),parseInt(a.lowDate.slice(0,2))-1,1,0,0,0,0),MaxDate:new Date(a.highDate.slice(3,7),parseInt(a.highDate.slice(0,2))-1,1,0,0,0,0)});setDatePickerEvent();b()})}function setDatePickerEvent(){$("#datePicker").off("change");$("#datePicker").on("change",function(){reloadTable(dataTable)})}
function reloadTable(b){var a=location.pathname+"/load?selectedDate="+$("#datePicker").val();b.ajax.url(a).load()};